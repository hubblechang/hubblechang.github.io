---
title: 垃圾回收
categories: 
- JVM
---

## G1 GC
G1垃圾收集器适用于扩展到大量内存的多处理器计算机，旨在实现GC Pause和吞吐量之间的最佳平衡，使用场景包括：
+ 堆大小高达数十 GB 或更大，超过 50% 的 Java 堆被实时数据占用。
+ 对象分配和升级的速率可能随时间发生显着变化。
+ 堆中存在大量碎片。
+ 可预测的暂停时间目标不超过几百毫秒，避免长时间的垃圾收集暂停。

G1是默认的垃圾收集器，显式启用可以使用一下命令
```bash
-XX:+UseG1GC
```
G1 将堆划分为一组大小相等的堆区域，每个堆区域都是连续的虚拟内存范围，如图所示。区域是内存分配和内存回收的单位。在任何给定时间，每个区域都可以是空的（浅灰色），或者分配给特定的一代，无论是年轻的还是年长的。当内存请求到来时，内存管理器会分发空闲区域。内存管理器将它们分配给一代，然后将它们作为可用空间返回给应用程序，应用程序可以在其中分配自己。

{% asset_img G1.png G1 Collector %}

## CMS GC

## 参考
1. [Oracle-Garbage Collector](https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-g1-garbage-collector1.html#GUID-0394E76A-1A8F-425E-A0D0-B48A3DC82B42)