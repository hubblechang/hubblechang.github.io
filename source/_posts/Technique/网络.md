---
title: 网络
categories: 
- 计算机网络
---

# TCP/IP四层和OSI七层
四层：网络接口层 网络层 传输层 应用层
七层：物理层 数据链路层 网络层 传输层 会话层 表示层 应用层

## DNS域名解析
1. 检查浏览器DNS缓存
2. 本地电脑检查host文件配置
3. 用户向本地DNS服务器发起DNS解析请求
4. 本地DNS服务器向根DNS服务器发起域名解析请求
5. 根DNS给本地DNS返回顶级DNS服务器地址
6. 本地DNS向顶级DNS服务器发起解析请求
7. 顶级DNS给本地DNS返回Name Server服务器地址
8. 本地DNS向Name Server服务器发起解析请求
9. Name Server给本地DNS返回正确的DNS解析结果
10. 本地DNS给本地电脑返回正确的DNS解析结果

DNS存在迭代和递归两种方式，上述就属于迭代查询，本地电脑发起请求后，由本地DNS不断与各级DNS服务器进行查询。
递归查询是指，每查询到一级域名，都向本地电脑返回，本地电脑再针对返回的每一级DNS服务器的地址发起DNS解析请求。
简而言之，迭代方式种本地电脑只需要发起一次解析请求，递归方式本地电脑可能发起多次DNS解析请求。

# HTTP
域名解析 —> 与服务器建立TCP连接 —> 发起HTTP请求 —> 服务器响应HTTP请求，浏览器得到html代码 —> 浏览器解析html代码，并请求html代码中的资源（如js、css、图片） —> 浏览器对页面进行渲染呈现给用户

## 请求消息
1. 请求行（Request Line）：
    方法：如 GET、POST、PUT、DELETE等，指定要执行的操作。
    请求 URI（统一资源标识符）：请求的资源路径，通常包括主机名、端口号（如果非默认）、路径和查询字符串。
    HTTP 版本：如 HTTP/1.1 或 HTTP/2。
    请求行的格式示例：GET /index.html HTTP/1.1
2. 请求头（Request Headers）：
    包含了客户端环境信息、请求体的大小（如果有）、客户端支持的压缩类型等。
    常见的请求头包括Host、User-Agent、Accept、Accept-Encoding、Content-Length等。
3. 空行：
    请求头和请求体之间的分隔符，表示请求头的结束。
4. 请求体（可选）：
    在某些类型的HTTP请求（如 POST 和 PUT）中，请求体包含要发送给服务器的数据。

## 响应消息
1. 状态行（Status Line）：
    HTTP 版本：与请求消息中的版本相匹配。
    状态码：三位数，表示请求的处理结果，如 200 表示成功，404 表示未找到资源。
    状态信息：状态码的简短描述。
    状态行的格式示例：HTTP/1.1 200 OK
2. 响应头（Response Headers）：
    包含了服务器环境信息、响应体的大小、服务器支持的压缩类型等。
    常见的响应头包括Content-Type、Content-Length、Server、Set-Cookie等。
3. 空行：
    响应头和响应体之间的分隔符，表示响应头的结束。
4. 响应体（可选）：
    包含服务器返回的数据，如请求的网页内容、图片、JSON数据等。

# Https

{% asset_img Https.png Https Connection %}


# 参考
1. [DNS解析全过程](https://blog.csdn.net/bangshao1989/article/details/121913780)
2. [两种DNS解析方式](https://wenku.csdn.net/answer/76d3230357ff42e6a5aa4ef759f507c2#)
3. [HTTPS](https://segmentfault.com/a/1190000021494676)
4. [常见面试题](https://xiaolincoding.com/network/2_http/http_interview.html)
