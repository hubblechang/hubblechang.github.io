---
title: 京东一面
categories: 
- 面试
---
# 一面

## Java程序刚启动就full GC三次，可能发生了什么？
回答了G1的Mixed GC如何触发full gc，但不对，猜测是启动类加载的问题，但没面试时候没想到

## 如何了解新技术，学习途径
回答从博客学习，然后感觉被鄙视了

javaguide：官方文档+书籍+博客的学习方式

1. 官方文档是必须要看的，通过官方文档你才能知道你学习的技术最新的技术动态，才能知道这个技术有哪些模块需要学习，才能知道这个技术具体可以帮你解决什么问题。
2. 书籍的内容更成体系，更系统。任何时候，书籍都是我们最重要的学习途径！不过，书籍存在时效问题，更适合理论性的知识。
3. 遇到搞不懂的问题或者想要深入研究某个知识点，都可以去找一些优质的博客来阅读。

## Java的String为什么要设计成不可更改的
1. 字符串常量池，节省空间

> 如果每一次声明一个String都创建一个String对象，那将会造成极大的空间资源的浪费。Java提出了String pool的概念，在堆内存中开辟一块存储空间String pool，当初始化一个String变量时，如果该字符串已经存在了，就不会去创建一个新的字符串变量，而是会返回已经存在了的字符串的引用。

2. 方便做Hash中的Key

3. 保证参数不可变

> String 经常作为参数，String不可变性可以保证参数不可变。例如在作为网络连接参数的情况下如果String是可变的，那么在网络连接过程中，String 被改变，改变 String对象的那一方以为现在连接的是其它主机，而实际情况却不一定是。

4. 多线程安全

> String不可变性天生具备线程安全可以在多个线程中安全地使用。

## 不排除加锁，还有什么保证不出现超卖的解决方案，要保证效率
1. 在数据库层面解决
2. 利用分布式锁
3. 利用分布式锁+分段缓存
把数据分成很多个段，每个段是一个单独的锁，所以多个线程过来并发修改数据的时候，可以并发的修改不同段的数据，类似于热key打散
4. 利用redis的incr、decr的原子性 + 异步队列
    1、在系统初始化时，将商品的库存数量加载到redis缓存中

    2、接收到秒杀请求时，在redis中进行预减库存（利用redis decr的原子性），当redis中的库存不足时，直接返回秒杀失败，否则继续进行第3步；
    3、将请求放入异步队列中，返回正在排队中；

    4、服务端异步队列将请求出队（哪些请求可以出队，可以根据业务来判定，比如：判断对应用户是否已经秒杀过对应商品，防止重复秒杀），出队成功的请求可以生成秒杀订单，减少数据库库存，返回秒杀订单详情

    5、用户在客户端申请秒杀请求后，进行轮询，查看是否秒杀成功，秒杀成功则进入秒杀订单详情，否则秒杀失败
    缺点：由于是通过异步队列写入数据库中，可能存在数据不一致，其次引用多个组件复杂度比较高

## 单机高并发，怎么协同
不懂，单实例本地锁吗

## 列举十个分布式技术框架，SOA之类的
不懂，gpt回答：
1. 微服务架构（Microservices Architecture）
微服务架构将应用程序分解为一组小型、独立的服务，每个服务运行在自己的进程中，通过轻量级通信机制（如HTTP/REST或消息队列）进行交互。

2. 事件驱动架构（Event-Driven Architecture, EDA）
事件驱动架构基于事件的产生、检测、消费和反应来设计系统。事件可以是状态的变化或用户操作的结果，系统组件通过事件进行异步通信。

3. REST架构风格（REST Architectural Style）
REST是一种设计风格，强调通过统一的接口和无状态通信来构建网络服务。RESTful服务通常基于HTTP协议，使用标准的HTTP方法来操作资源。

4. CQRS（Command Query Responsibility Segregation）
CQRS将系统的读操作和写操作分离，通常与事件溯源（Event Sourcing）结合使用，以提高系统的性能、可扩展性和安全性。

5. EDA与SOA结合（EDA with SOA）
这种架构结合了事件驱动架构和面向服务的架构的优点，通过事件来驱动服务的调用和数据的流动。

6. 分布式对象架构（Distributed Objects Architecture）
这种架构通过远程过程调用（RPC）或对象请求代理（ORB）来实现对象的分布式访问，如CORBA或Java RMI。

7. 网格计算（Grid Computing）
网格计算将大量计算资源（如服务器、存储设备）连接成一个虚拟的超级计算机，用于处理大规模的计算任务。

8. 点对点架构（Peer-to-Peer Architecture, P2P）
点对点架构中，每个节点（对等体）都具有相同的能力和责任，可以直接与其他节点通信和共享资源。

9. 服务组合架构（Service Composition Architecture）
服务组合架构通过组合现有的服务来创建新的业务流程或应用，强调服务的可重用性和灵活性。

10. 无服务器架构（Serverless Architecture）
无服务器架构中，开发者只需关注代码的编写，而不需要管理服务器的配置和维护。云服务提供商负责自动扩展和管理基础设施。

# 二面
以讨论为主，很多问题都不是太懂，hh，面试官告诉我答案
## Kafka最大的优势
kafka的写速度更快，海量消息的处理速度更快。
## 技术怎么学习
JD的后端主要解决<b>从nginx到DB过程中的业务</b>
1. 数据库的分库分表中间件
2. 服务调用Framework
3. 微服务、网关、nginx
4. 大数据的处理也很重要
5. Redis--JD自研JMDB、消息队列--JD自研JMQ